"use strict";(self.webpackChunknew_website=self.webpackChunknew_website||[]).push([[5636],{55636:(e,n,t)=>{t.r(n),t.d(n,{DEFAULT_PYTHON_PROGRAM:()=>v,default:()=>w,initializePyreflyWasm:()=>b});var r=t(96540),o=(t(32855),t(74848));function s(e){let{id:n,onClick:t,defaultLabel:s,successLabel:a,disabled:l=!1,ariaLabel:x}=e;const[i,u]=(0,r.useState)(!1);return(0,o.jsx)("button",{id:n,...{0:{className:"x78zum5 x6s0dn4 x1khhgft x1ypdohk x169l3ba xfo81ep xpivpjv x1vqgdyp xyog2rh x1aq8l9j x1v03e3n x1789zll x1com5t6 x1jdwrgt xtfardp x1heor9g x1vnbo0c x16gcxq3 x1fh9xkg xqtax1z"},2:{className:"x78zum5 x6s0dn4 x1khhgft x1ypdohk x169l3ba xfo81ep xpivpjv x1vqgdyp xyog2rh x1aq8l9j x1v03e3n x1789zll x1com5t6 x1cet8bl x1awj2ng x1yurq8p x1vnbo0c x1rpuqfj x4afe7t x1debuo4 xkpkb2g x187oe4h x1fh9xkg xqtax1z"},1:{className:"x78zum5 x6s0dn4 x1khhgft x169l3ba xfo81ep xpivpjv x1vqgdyp xyog2rh x1aq8l9j x1v03e3n x1789zll x1com5t6 x1jdwrgt xtfardp x1heor9g x1vnbo0c x16gcxq3 x1fh9xkg xqtax1z xbyyjgo x1h6gzvc x1t7rm6y xkhlokr"},3:{className:"x78zum5 x6s0dn4 x1khhgft x169l3ba xfo81ep xpivpjv x1vqgdyp xyog2rh x1aq8l9j x1v03e3n x1789zll x1com5t6 x1cet8bl x1awj2ng x1yurq8p x1vnbo0c x1rpuqfj x4afe7t x1debuo4 xkpkb2g x187oe4h x1fh9xkg xqtax1z xbyyjgo x1h6gzvc x1t7rm6y xkhlokr"}}[!!i<<1|!!l],onClick:()=>async function(){if(!l)try{await t(),u(!0),setTimeout((()=>u(!1)),2e3)}catch(e){console.error("Error in button action:",e)}}(),"aria-label":x||n,disabled:l,children:(0,o.jsx)("span",{className:"xmtou6a",children:i?a:s})})}var a=t(68553),l=t(32992);function x(e){let{error:n,goToDef:t}=e;const{startLineNumber:r,startColumn:s,endLineNumber:a,endColumn:l}=n;let x;x=r===a?s===l?`${r}:${s}`:`${r}:${s}-${l}`:`${r}:${s}-${a}:${l}`;const i=`${x}: ${n.message} [${n.kind}]`;return(0,o.jsxs)("span",{className:"x1ypdohk",onClick:()=>t(r,s,a,l),children:[(0,o.jsx)("span",{className:"x1x2k2ee",children:"ERROR "}),i]})}function i(e){let{loading:n,goToDef:t,errors:r,internalError:s}=e;const a=null!=r&&r.length>0;return(0,o.jsxs)("div",{id:"tryPyrefly-results-container",className:"xh2ww80 x1n2onr6 xfifm61 x1dt6g3d x134d0co",children:[(0,o.jsx)("div",{className:"x78zum5 xo6guvx x15su7se xif65rj",children:(0,o.jsx)("ul",{className:"x78zum5 xe8uvvx x1ghz6dp x1717udv x47corl",children:(0,o.jsx)("li",{className:"x1oxdvv4 x1ypdohk x117nqv4 x7pa710 x1r7xphn x1x4k32v x1jyxor1",children:"Errors"})})}),(0,o.jsxs)("div",{className:"xysyzu8 x1io82uz",children:[n&&(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"x78zum5 xl56j7k x1anpbxc",children:[(0,o.jsx)("div",{className:"x6jxa94 x1v9usgg xehhe6p xorixrz x1bo1o3z x1sbju2s xa4qsjk x4hg4is x1u6ievf xkf7kw9"}),(0,o.jsx)("div",{className:"x6jxa94 x1v9usgg xehhe6p xorixrz x1bo1o3z x1sbju2s xa4qsjk x4hg4is x1u6ievf xlzs402"}),(0,o.jsx)("div",{className:"x6jxa94 x1v9usgg xehhe6p xorixrz x1bo1o3z x1sbju2s xa4qsjk x4hg4is x1u6ievf"})]})}),!n&&(0,o.jsx)("pre",{className:"x2lkgqm xat24cr x78zum5",children:(0,o.jsx)("ul",{className:"xe8uvvx x1ghz6dp x1717udv",children:a?r.map(((e,n)=>(0,o.jsx)("li",{...{0:{},1:{className:"x1anpbxc x889kno xhbnqo4"}}[!!(n>0)|0],children:(0,o.jsx)(x,{error:e,goToDef:t},n)},n))):(0,o.jsx)("li",{children:s?`Pyrefly encountered an internal error: ${s}.`:null==r?"Pyrefly failed to fetch errors.":0===r?.length?"No errors!":null})})})]})]})}var u=t(84138);const c=(e,n)=>{throw"not implemented"},d=new Map;const h=(e,n)=>null,g=new Map;const p=(e,n)=>null,m=new Map;const f=()=>[],y=new Map;u.languages.register({id:"python",extensions:[".py"],aliases:["Python"]}),u.languages.registerCompletionItemProvider("python",{triggerCharacters:[".","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","[",'"',"'"],provideCompletionItems(e,n){try{const t=d.get(e)??c;return{suggestions:t(n.lineNumber,n.column).map((e=>({...e,insertText:e.label.toString()})))}}catch(t){return console.error(t),null}}}),u.languages.registerDefinitionProvider("python",{provideDefinition(e,n){try{const t=(g.get(e)??h)(n.lineNumber,n.column);return null!=t?{uri:e.uri,range:t}:null}catch(t){return console.error(t),null}}}),u.languages.registerHoverProvider("python",{provideHover:(e,n)=>(m.get(e)??p)(n.lineNumber,n.column)}),u.languages.registerInlayHintsProvider("python",{provideInlayHints:e=>({hints:(y.get(e)??f)(),dispose:()=>{}})}),a.wG.config({monaco:u});const v='\nfrom typing import *\n\ndef test(x: int):\n  return f"{x}"\n\n# reveal_type will produce a type error that tells you the type Pyrefly has\n# computed for the return (in this case, str)\nreveal_type(test(42))\n'.trimStart();async function b(){const e="undefined"!=typeof window?t.e(6370).then(t.bind(t,96370)):new Promise((e=>{}));try{const n=await e;return await n.default(),await n}catch(n){throw console.log(n),n}}let j=null;function w(e){let{sampleFilename:n,isCodeSnippet:t=!1,codeSample:a=v}=e;const l=(0,r.useRef)(null),[x,c]=(0,r.useState)([]),[h,p]=(0,r.useState)(""),[f,w]=(0,r.useState)(!0),[N,C]=(0,r.useState)(null),[q,L]=(0,r.useState)(null),[S,P]=(0,r.useState)(null);function R(){if(null!=S&&null!=N){!function(e,n){d.set(e,n)}(S,((e,n)=>N.autoComplete(e,n))),function(e,n){g.set(e,n)}(S,((e,n)=>N.gotoDefinition(e,n))),function(e,n){m.set(e,n)}(S,((e,n)=>N.queryType(e,n))),function(e,n){y.set(e,n)}(S,(()=>N.inlayHint()));try{const e=S.getValue();N.updateSource(e);const n=N.getErrors();u.editor.setModelMarkers(S,"default",function(e){return e.map((e=>({startLineNumber:e.startLineNumber,startColumn:e.startColumn,endLineNumber:e.endLineNumber,endColumn:e.endColumn,message:e.message,severity:e.severity})))}(n)),p(""),c(n)}catch(e){console.error(e),p(JSON.stringify(e)),c([])}}}(0,r.useEffect)((()=>{w(!0),j||(j=b()),j.then((e=>{C(new e.State),w(!1),p("")})).catch((e=>{w(!1),p(JSON.stringify(e))}))}),[]),u.editor.onDidCreateModel((e=>{const t=k(n);P(t),R()})),(0,r.useEffect)((()=>{R()}),[N,S]);return(0,o.jsxs)("div",{id:"tryPyrefly-editor",className:"x78zum5 xdt5ytf x98rzlu",children:[(0,o.jsxs)("div",{id:"tryPyrefly-code-editor-container",className:"x1n2onr6 x78zum5 xysyzu8 x7hct1x xo6guvx x5yr21d",children:[z(t,n,a,R,(function(e){const r=k(n);P(r),t&&L(Math.max(50,e.getContentHeight())),l.current=e}),q),!t&&(0,o.jsxs)("div",{className:"x10l6tqk x78zum5 x15zctf7 xfo81ep x16ng2z7 x15u1x8x xlr897v x1v20nzo",children:[" ",(0,o.jsx)(s,{id:"share-url-button",onClick:()=>{const e=window.location.href;return navigator.clipboard.writeText(e)},defaultLabel:"\ud83d\udccb Share URL",successLabel:"\u2713 URL Copied!",ariaLabel:"share URL button"}),"  "]})]}),!t&&(0,o.jsx)(i,{loading:f,goToDef:(e,n,t,r)=>{const o=l.current;if(null===o)return;const s={startLineNumber:e,startColumn:n,endLineNumber:t,endColumn:r};o.revealRange(s),o.setSelection(s)},errors:x,internalError:h})]})}function k(e){const n=u.editor.getModels().filter((n=>n?.uri?.path===`/${e}`))[0];if(null==n)return null;const t=function(){if("undefined"==typeof window)return null;const e=new URLSearchParams(window.location.search).get("code");return e?l.decompressFromEncodedURIComponent(e):null}();return null!=t&&null!=n&&n.setValue(t),n.setValue(n.getValue()),n.updateOptions({tabSize:4,insertSpaces:!0}),n}function z(e,n,t,r,s,x){if(e)return(0,o.jsx)(a.Ay,{defaultPath:n,defaultValue:t,defaultLanguage:"python",theme:"vs-light",onChange:r,onMount:s,keepCurrentModel:!0,height:x,options:{readOnly:/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),minimap:{enabled:!1},hover:{enabled:!0,above:!1},scrollBeyondLastLine:!1,overviewRulerBorder:!1}});{const e=window.innerHeight,x=document.querySelector(".navbar"),i=75*(e-(x?.offsetHeight||0))/100;return(0,o.jsx)(a.Ay,{defaultPath:n,defaultValue:t,defaultLanguage:"python",theme:"vs-light",onChange:e=>{r(),"string"==typeof e&&function(e){const n=l.compressToEncodedURIComponent(e),t=`${window.location.pathname}?code=${n}`;window.history.replaceState({},"",t)}(e)},onMount:s,keepCurrentModel:!0,height:i,options:{minimap:{enabled:!1},hover:{enabled:!0,above:!1},scrollBeyondLastLine:!1,overviewRulerBorder:!1}})}}}}]);