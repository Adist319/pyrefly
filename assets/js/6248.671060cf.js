"use strict";(self.webpackChunknew_website=self.webpackChunknew_website||[]).push([[6248],{16248:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(96540),o=n(20053),s=n(68553),a=n(32992);const i={tryEditorConfig:"tryEditorConfig_Bkqa",tryEditorConfigInputCell:"tryEditorConfigInputCell_Ka7y",tryEditorConfigLabelCell:"tryEditorConfigLabelCell_MSJe",tryEditorConfigLabel:"tryEditorConfigLabel_T3Va",resetBanner:"resetBanner_DRfj",tryEditor:"tryEditor_uaey",codeEditorContainer:"codeEditorContainer_RVB7",shareButton:"shareButton_eTkx",shareButtonText:"shareButtonText_cSra",shareButtonCopied:"shareButtonCopied_kCab",copySuccess:"copySuccess_T3gl",buttonText:"buttonText_RZSd",results:"results_FNre",resultsToolbar:"resultsToolbar_CrSQ",resultsContainer:"resultsContainer_CGW1",resultBody:"resultBody_V266",tabs:"tabs_u867",tab:"tab_a7pb",version:"version_TzBo",versionWarning:"versionWarning_gdOw",selectedTab:"selectedTab_xnhj",loader:"loader_Z7Ct","sk-bouncedelay":"sk-bouncedelay_nuzq",bounce1:"bounce1_NjUp",bounce2:"bounce2_SM41",errors:"errors_bNYi",msgHighlight:"msgHighlight__Bsa",msgType:"msgType_a5Tw",refinedValueDecoration:"refinedValueDecoration_xkkD",errorMessageError:"errorMessageError_Eust"};var l=n(74848);function u(e){let{error:t,goToDef:n}=e;const{startLineNumber:r,startColumn:o,endLineNumber:s,endColumn:a}=t;let u;u=r===s?o===a?`${r}:${o}`:`${r}:${o}-${a}`:`${r}:${o}-${s}:${a}`;const d=`${u}: [${t.kind}] ${t.message}`;return(0,l.jsxs)("span",{className:i.msgType,onClick:()=>n(r,o,s,a),children:[(0,l.jsx)("span",{className:i.errorMessageError,children:"ERROR "}),d]})}function d(e){let{loading:t,goToDef:n,errors:r,internalError:s}=e;return(0,l.jsxs)("div",{className:i.resultsContainer,children:[(0,l.jsx)("div",{className:i.resultsToolbar,children:(0,l.jsx)("ul",{className:i.tabs,children:(0,l.jsx)("li",{className:(0,o.default)(i.tab,i.selectedTab),children:"Errors"})})}),(0,l.jsxs)("div",{className:i.results,children:[t&&(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:i.loader,children:[(0,l.jsx)("div",{className:i.bounce1}),(0,l.jsx)("div",{className:i.bounce2}),(0,l.jsx)("div",{})]})}),!t&&(0,l.jsx)("pre",{className:(0,o.default)(i.resultBody,i.errors),children:(0,l.jsx)("ul",{children:s?(0,l.jsxs)("li",{children:["Pyrefly encountered an internal error: ",s,"."]}):null==r?(0,l.jsx)("li",{children:"Pyrefly failed to fetch errors."}):0===r?.length?(0,l.jsx)("li",{children:"No errors!"}):r.map(((e,t)=>(0,l.jsx)("li",{children:(0,l.jsx)(u,{error:e,goToDef:n},t)},t)))})})]})]})}var c=n(84138);const h=(e,t)=>{throw"not implemented"},g=new Map;const m=(e,t)=>null,f=new Map;const p=(e,t)=>null,y=new Map;const b=()=>[],C=new Map;c.languages.register({id:"python",extensions:[".py"],aliases:["Python"]}),c.languages.registerCompletionItemProvider("python",{triggerCharacters:[".","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","[",'"',"'"],provideCompletionItems(e,t){try{const n=g.get(e)??h;return{suggestions:n(t.lineNumber,t.column).map((e=>({...e,insertText:e.label.toString()})))}}catch(n){return console.error(n),null}}}),c.languages.registerDefinitionProvider("python",{provideDefinition(e,t){try{const n=(f.get(e)??m)(t.lineNumber,t.column);return null!=n?{uri:e.uri,range:n}:null}catch(n){return console.error(n),null}}}),c.languages.registerHoverProvider("python",{provideHover:(e,t)=>(y.get(e)??p)(t.lineNumber,t.column)}),c.languages.registerInlayHintsProvider("python",{provideInlayHints:e=>({hints:(C.get(e)??b)(),dispose:()=>{}})}),s.wG.config({monaco:c});const v='\nfrom typing import *\n\ndef test(x: int):\n  return f"{x}"\n\n# reveal_type will produce a type error that tells you the type Pyrefly has\n# computed for the return (in this case, str)\nreveal_type(test(42))\n'.trimStart(),x=("undefined"!=typeof window?n.e(930).then(n.bind(n,50930)):new Promise((e=>{}))).then((async e=>(await e.default(),e))).catch((e=>console.log(e)));function w(e){let{sampleFilename:t,isCodeSnippet:n=!1,codeSample:s=v,showErrorPanel:a=!0}=e;const u=(0,r.useRef)(null),[h,m]=(0,r.useState)([]),[p,b]=(0,r.useState)(""),[w,j]=(0,r.useState)(!0),[S,E]=(0,r.useState)(null),[T,B]=(0,r.useState)(null),[L,M]=(0,r.useState)(null),[k,P]=(0,r.useState)(!1);function R(){if(null==L||null==S)return;L.getValue();!function(e,t){g.set(e,t)}(L,((e,t)=>S.autoComplete(e,t))),function(e,t){f.set(e,t)}(L,((e,t)=>S.gotoDefinition(e,t))),function(e,t){y.set(e,t)}(L,((e,t)=>S.queryType(e,t))),function(e,t){C.set(e,t)}(L,(()=>S.inlayHint()));try{S.updateSource(L.getValue());const e=S.getErrors();c.editor.setModelMarkers(L,"default",function(e){return e.map((e=>({startLineNumber:e.startLineNumber,startColumn:e.startColumn,endLineNumber:e.endLineNumber,endColumn:e.endColumn,message:e.message,severity:e.severity})))}(e)),b(""),m(e)}catch(e){console.error(e),b(JSON.stringify(e)),m([])}}(0,r.useEffect)((()=>{j(!0),x.then((e=>{E(new e.State),j(!1),b("")})).catch((e=>{j(!1),b(JSON.stringify(e))}))}),[]),c.editor.onDidCreateModel((e=>{const n=_(t);M(n),R()})),(0,r.useEffect)((()=>{R()}),[S,L]);return(0,l.jsxs)("div",{className:i.tryEditor,children:[(0,l.jsxs)("div",{className:i.codeEditorContainer,children:[N(n,t,s,R,(function(e){const r=_(t);M(r),n&&B(Math.max(50,e.getContentHeight())),u.current=e}),T),!n&&(0,l.jsx)("button",{className:(0,o.default)(i.shareButton,k&&i.shareButtonCopied),onClick:()=>function(e){const t=window.location.href;navigator.clipboard.writeText(t).then((()=>{e(!0),setTimeout((()=>e(!1)),2e3)}))}(P),"aria-label":"share URL button",children:(0,l.jsx)("span",{className:i.shareButtonText,children:k?"\u2713 URL Copied!":"\ud83d\udccb Share URL"})})]}),a&&(0,l.jsx)(d,{loading:w,goToDef:(e,t,n,r)=>{const o=u.current;if(null===o)return;const s={startLineNumber:e,startColumn:t,endLineNumber:n,endColumn:r};o.revealRange(s),o.setSelection(s)},errors:h,internalError:p})]})}function _(e){const t=c.editor.getModels().filter((t=>t?.uri?.path===`/${e}`))[0];if(null==t)return null;const n=function(){if("undefined"==typeof window)return null;const e=new URLSearchParams(window.location.search).get("code");return e?a.decompressFromEncodedURIComponent(e):null}();return null!=n&&null!=t&&t.setValue(n),t.setValue(t.getValue()),t.updateOptions({tabSize:4,insertSpaces:!0}),t}function N(e,t,n,r,o,i){if(e)return(0,l.jsx)(s.Ay,{defaultPath:t,defaultValue:n,defaultLanguage:"python",theme:"vs-light",onChange:r,onMount:o,keepCurrentModel:!0,height:i,options:{readOnly:/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),minimap:{enabled:!1},hover:{enabled:!0,above:!1},scrollBeyondLastLine:!1,overviewRulerBorder:!1}});{const e=window.innerHeight,i=document.querySelector(".navbar"),u=75*(e-(i?.offsetHeight||0))/100;return(0,l.jsx)(s.Ay,{defaultPath:t,defaultValue:n,defaultLanguage:"python",theme:"vs-light",onChange:e=>{r(),"string"==typeof e&&function(e){const t=a.compressToEncodedURIComponent(e),n=`${window.location.pathname}?code=${t}`;window.history.replaceState({},"",n)}(e)},onMount:o,keepCurrentModel:!0,height:u,options:{minimap:{enabled:!1},hover:{enabled:!0,above:!1},scrollBeyondLastLine:!1,overviewRulerBorder:!1}})}}}}]);