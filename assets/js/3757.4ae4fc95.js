"use strict";(self.webpackChunknew_website=self.webpackChunknew_website||[]).push([[3757],{3757:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(96540),o=(n(86025),n(20053)),l=n(82776),a=n(32992);const s="tryEditor_uaey",i="codeEditorContainer_RVB7",u="shareButton_eTkx",c="shareButtonText_cSra",d="shareButtonCopied_kCab",m="results_FNre",g="resultsToolbar_CrSQ",p="resultsContainer_CGW1",h="resultBody_V266",f="tabs_u867",y="tab_a7pb",v="selectedTab_xnhj",E="loader_Z7Ct",w="bounce1_NjUp",b="bounce2_SM41",C="errors_bNYi",N="msgType_a5Tw",S="errorMessageError_Eust";n(8785);function _(e){let{error:t}=e;const{startLineNumber:n,startColumn:o,endLineNumber:l,endColumn:a}=t;let s;s=n===l?o===a?n+":"+o:n+":"+o+"-"+a:n+":"+o+"-"+l+":"+a;const i=s+": "+t.message;return r.createElement("span",{className:N},r.createElement("span",{className:S},"ERROR "),i)}function P(e){let{loading:t,errors:n,internalError:l}=e;const[a,s]=(0,r.useState)("errors");return r.createElement("div",null,r.createElement("div",{className:g},r.createElement("ul",{className:f},r.createElement("li",{className:(0,o.default)(y,"errors"===a&&v)},"Errors"))),r.createElement("div",{className:m},t&&r.createElement("div",null,r.createElement("div",{className:E},r.createElement("div",{className:w}),r.createElement("div",{className:b}),r.createElement("div",null))),!t&&"errors"===a&&r.createElement("pre",{className:(0,o.default)(h,C)},r.createElement("ul",null,l?r.createElement("li",null,"Pyrefly encountered an internal error: ",l,"."):null==n?r.createElement("li",null,"Pyrefly failed to fetch errors."):0===(null==n?void 0:n.length)?r.createElement("li",null,"No errors!"):n.map(((e,t)=>r.createElement("li",{key:t},r.createElement(_,{key:t,error:e}))))))))}var M=n(84138);const L=JSON.parse('{"@generated":"copied from fbsource/vscode/vscode-extensions/flow/syntaxes","comments":{"lineComment":"//","blockComment":["/*","*/"]},"brackets":[["{","}"],["[","]"],["(",")"]],"autoClosingPairs":[{"COMMENT":"The {} rule will add the }, only need to add the | here.","open":"{|","close":"|"},{"open":"{","close":"}"},{"open":"[","close":"]"},{"open":"(","close":")"},{"open":"\'","close":"\'","notIn":["string","comment"]},{"open":"\\"","close":"\\"","notIn":["string"]},{"open":"`","close":"`","notIn":["string","comment"]},{"open":"/**","close":" */","notIn":["string"]}],"surroundingPairs":[["{","}"],["[","]"],["(",")"],["\'","\'"],["\\"","\\""],["`","`"]],"autoCloseBefore":";:.,=}])>` \\n\\t","folding":{"markers":{"start":"^\\\\s*//\\\\s*#?region\\\\b","end":"^\\\\s*//\\\\s*#?endregion\\\\b"}}}'),k=(e,t)=>{throw"not implemented"},R=new Map;const T=(e,t)=>null,x=new Map;let I=(e,t)=>null;const B=new Map;const V=()=>[],H=new Map;M.languages.register({id:"python",extensions:[".py"],aliases:["Python"]}),M.languages.setLanguageConfiguration("python",L);M.languages.getEncodedLanguageId("python");M.languages.registerCompletionItemProvider("python",{triggerCharacters:[".","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","[",'"',"'"],provideCompletionItems(e,t){try{var n;const r=(null!=(n=R.get(e))?n:k)(t.lineNumber,t.column);return console.log("completion",t,r),{suggestions:r.map((e=>({...e,insertText:e.label})))}}catch(r){return console.error(r),null}}}),M.languages.registerDefinitionProvider("python",{provideDefinition(e,t){try{var n;const r=(null!=(n=x.get(e))?n:T)(t.lineNumber,t.column);return null!=r?{uri:e.uri,range:r}:null}catch(r){return console.error(r),null}}}),M.languages.registerHoverProvider("python",{provideHover(e,t){var n;return(null!=(n=B.get(e))?n:I)(t.lineNumber,t.column)}}),M.languages.registerInlayHintsProvider("python",{provideInlayHints(e){var t;return{hints:(null!=(t=H.get(e))?t:V)()}}}),l.wG.config({monaco:M});n(78478);const U='\nfrom typing import *\n\ndef test(x: int):\n  return f"{x}"\n\n# reveal_type will produce a type error that tells you the type Pyrefly has\n# computed for the return (in this case, str)\nreveal_type(test(42))\n'.trimStart(),O=("undefined"!=typeof window?n.e(8355).then(n.bind(n,18355)):new Promise((e=>{}))).then((async e=>(await e.default(),e))).catch((e=>console.log(e)));function A(e){let{sampleFilename:t,isCodeSnippet:n=!1,codeSample:m=U,showErrorPanel:g=!0}=e;const h=(0,r.useRef)(null),[f,y]=(0,r.useState)([]),[v,E]=(0,r.useState)(""),[w,b]=(0,r.useState)(!0),[C,N]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[L,k]=(0,r.useState)(null),[T,I]=(0,r.useState)(!1);function V(){if(null==L||null==C)return;L.getValue();!function(e,t){R.set(e,t)}(L,((e,t)=>C.autoComplete(e,t))),function(e,t){x.set(e,t)}(L,((e,t)=>C.gotoDefinition(e,t))),function(e,t){B.set(e,t)}(L,((e,t)=>C.queryType(e,t))),function(e,t){H.set(e,t)}(L,(()=>C.inlayHint()));try{C.updateSource(L.getValue());const e=C.getErrors();M.editor.setModelMarkers(L,"default",C.getErrors()),E(""),y(e)}catch(e){console.error(e),E(JSON.stringify(e)),y([])}}return(0,r.useEffect)((()=>{b(!0),O.then((e=>{N(new e.State),b(!1),E("")})).catch((e=>{b(!1),E(JSON.stringify(e))}))}),[]),M.editor.onDidCreateModel((e=>{const n=D(t);k(n),V()})),(0,r.useEffect)((()=>{V()}),[C,L]),r.createElement("div",{className:s},r.createElement("div",{className:i},function(e,t,n,o,s,i){if(e)return r.createElement(l.Ay,{defaultPath:t,defaultValue:n,defaultLanguage:"python",theme:"vs-light",onChange:o,onMount:s,height:i,options:{readOnly:F(),minimap:{enabled:!1},hover:{enabled:!0,above:!1},scrollBeyondLastLine:!1,overviewRulerBorder:!1}});{const e=75*window.innerHeight/100;return r.createElement(l.Ay,{defaultPath:t,defaultValue:n,defaultLanguage:"python",theme:"vs-light",onChange:e=>{o(),function(e){const t=a.compressToEncodedURIComponent(e),n=window.location.pathname+"?code="+t;window.history.replaceState({},"",n)}(e)},onMount:s,height:e,options:{minimap:{enabled:!1},hover:{enabled:!0,above:!1},scrollBeyondLastLine:!1,overviewRulerBorder:!1}})}}(n,t,m,V,(function(e){const r=D(t);k(r),n&&_(Math.max(50,e.getContentHeight())),h.current=e}),S),!n&&r.createElement("button",{className:(0,o.default)(u,T&&d),onClick:()=>function(e){const t=window.location.href;navigator.clipboard.writeText(t).then((()=>{e(!0),setTimeout((()=>e(!1)),2e3)}))}(I),"aria-label":"share URL button"},r.createElement("span",{className:c},T?"\u2713 URL Copied!":"\ud83d\udccb Share URL"))),g&&r.createElement("div",{className:p},r.createElement(P,{loading:w,errors:f,internalError:v})))}function D(e){const t=M.editor.getModels().filter((t=>{var n;return(null==t||null==(n=t.uri)?void 0:n.path)==="/"+e}))[0];if(null==t)return null;const n=function(){if("undefined"==typeof window)return null;const e=new URLSearchParams(window.location.search).get("code");return e?a.decompressFromEncodedURIComponent(e):null}();return null!=n&&null!=t&&t.setValue(n),t.setValue(t.getValue()),t}function F(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}}}]);