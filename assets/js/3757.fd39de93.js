"use strict";(self.webpackChunknew_website=self.webpackChunknew_website||[]).push([[3757],{3757:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(96540),o=n(86025),l=n(82776);n(32992);const a="editorContainer_KqyR",s="toolbar_hH4G",i="tryEditor_uaey",c="code_d3tC",u="results_FNre",m="resultBody_V266",d="tabs_u867",g="tab_a7pb",p="selectedTab_xnhj",h="loader_Z7Ct",f="bounce1_NjUp",y="bounce2_SM41",E="errors_bNYi",v="msgType_a5Tw";n(8785);var N=n(20053);function b(e){let{error:t}=e;const{startLineNumber:n,startColumn:o,endLineNumber:l,endColumn:a}=t;let s;s=n===l?o===a?n+":"+o:n+":"+o+"-"+a:n+":"+o+"-"+l+":"+a;const i=s+": "+t.message;return r.createElement("span",{className:v},i)}function C(e){let{loading:t,errors:n,internalError:o}=e;const[l,a]=(0,r.useState)("errors");return r.createElement("div",{className:u},r.createElement("div",{className:s},r.createElement("ul",{className:d},r.createElement("li",{className:(0,N.default)(g,"errors"===l&&p),onClick:()=>a("errors")},"Errors"),r.createElement("li",{className:(0,N.default)(g,"json"===l&&p),onClick:()=>a("json")},"JSON"))),t&&r.createElement("div",null,r.createElement("div",{className:h},r.createElement("div",{className:f}),r.createElement("div",{className:y}),r.createElement("div",null))),!t&&"errors"===l&&r.createElement("pre",{className:(0,N.default)(m,E)},r.createElement("ul",null,o?r.createElement("li",null,"TryPyrefly encountered an internal error: ",o):null==n?r.createElement("li",null,"TryPyrefly failed to fetch errors"):0===(null==n?void 0:n.length)?r.createElement("li",null,"No errors!"):n.map(((e,t)=>r.createElement("li",{key:t},r.createElement(b,{key:t,error:e})))))),!t&&"json"===l&&r.createElement("pre",{className:m},JSON.stringify(n,null,2)))}var w=n(84138);const S=JSON.parse('{"@generated":"copied from fbsource/vscode/vscode-extensions/flow/syntaxes","comments":{"lineComment":"//","blockComment":["/*","*/"]},"brackets":[["{","}"],["[","]"],["(",")"]],"autoClosingPairs":[{"COMMENT":"The {} rule will add the }, only need to add the | here.","open":"{|","close":"|"},{"open":"{","close":"}"},{"open":"[","close":"]"},{"open":"(","close":")"},{"open":"\'","close":"\'","notIn":["string","comment"]},{"open":"\\"","close":"\\"","notIn":["string"]},{"open":"`","close":"`","notIn":["string","comment"]},{"open":"/**","close":" */","notIn":["string"]}],"surroundingPairs":[["{","}"],["[","]"],["(",")"],["\'","\'"],["\\"","\\""],["`","`"]],"autoCloseBefore":";:.,=}])>` \\n\\t","folding":{"markers":{"start":"^\\\\s*//\\\\s*#?region\\\\b","end":"^\\\\s*//\\\\s*#?endregion\\\\b"}}}');let _=(e,t)=>{throw"not implemented"};let k=(e,t)=>null;let P=(e,t)=>null;let I={dispose(){}};w.languages.register({id:"python",extensions:[".py"],aliases:["Python"]}),w.languages.setLanguageConfiguration("python",S);w.languages.getEncodedLanguageId("python");w.languages.registerCompletionItemProvider("python",{triggerCharacters:[".","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","[",'"',"'"],provideCompletionItems(e,t){try{const e=_(t.lineNumber,t.column);return console.log("completion",t,e),{suggestions:e.map((e=>({...e,insertText:e.label})))}}catch(n){return console.error(n),null}}}),w.languages.registerDefinitionProvider("python",{provideDefinition(e,t){try{const n=k(t.lineNumber,t.column);return null!=n?{uri:e.uri,range:n}:null}catch(n){return console.error(n),null}}}),w.languages.registerHoverProvider("python",{provideHover:(e,t)=>P(t.lineNumber,t.column)}),l.wG.config({monaco:w});n(78478);const M='\nfrom typing import *\n\n# reveal_type will produce a type error that tells you the type Pyre has\n# computed for the argument (in this case, int)\ndef test(x: int):\n  return f"{x}"\n'.trimStart(),T=("undefined"!=typeof window?n.e(8355).then(n.bind(n,18355)):new Promise((e=>{}))).then((async e=>(await e.default(),e))).catch((e=>console.log(e)));function x(e){let{editorHeight:t="auto",codeSample:n=M,showErrorPanel:s=!0}=e;const{withBaseUrl:u}=(0,o.useBaseUrlUtils)(),m=(0,r.useRef)(null),[d,g]=(0,r.useState)([]),[p,h]=(0,r.useState)(""),[f,y]=(0,r.useState)(!0),[E,v]=(0,r.useState)(null),[N,b]=(0,r.useState)(t);function S(){const e=w.editor.getModels()[0];if(null==e||null==E)return;e.getValue();_=(e,t)=>E.autoComplete(e,t),function(e){k=(t,n)=>e(t,n)}(((e,t)=>E.gotoDefinition(e,t))),function(e){P=e}(((e,t)=>E.queryType(e,t))),function(e){I.dispose(),I=w.languages.registerInlayHintsProvider("python",{provideInlayHints:t=>({hints:e()})})}((()=>E.inlayHint()));try{E.updateSource(e.getValue());const t=E.getErrors();w.editor.setModelMarkers(e,"default",E.getErrors()),h(""),g(t)}catch(t){console.error(t),h(JSON.stringify(t)),g([])}}return(0,r.useEffect)((()=>{y(!0),T.then((e=>{v(new e.State),y(!1),h("")})).catch((e=>{y(!1),h(JSON.stringify(e))}))}),[]),(0,r.useEffect)((()=>{S()}),[E]),r.createElement("div",{className:i},r.createElement("div",{className:c},r.createElement("div",{className:a},r.createElement(l.Ay,{defaultValue:n,defaultLanguage:"python",theme:"vs-light",height:N,onChange:S,onMount:function(e){S(),"auto"===t&&b(Math.max(50,e.getContentHeight())),m.current=e},options:{minimap:{enabled:!1},hover:{enabled:!0,above:!1},scrollBeyondLastLine:!1,overviewRulerBorder:!1,scrollbar:{alwaysConsumeMouseWheel:!1}}}))),s&&r.createElement(C,{loading:f,errors:d,internalError:p}))}}}]);